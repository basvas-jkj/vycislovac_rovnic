\documentclass[12pt,a4paper]{report}
%\usepackage[total={16.5cm,25.2cm}, top=2.5cm, left=2.5cm]{geometry}
\usepackage[czech]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{multirow}

\setlength\parindent{0.5cm}
\linespread{1.25}


%%% Údaje o práci
\def\NazevPrace{Vyčíslování chemických rovnic}
\def\AutorPrace{Václav Stupka}
\def\TridaAutora{8.M}
\def\SkolniRok{2021/2022}
\def\Seminar{Seminář z programování}
\def\DatumDokonceni{Datum}

%% Definice různých užitečných maker (viz popis uvnitř souboru)
\include{_makra}

\newcommand{\s}{$ \rightarrow $}
\newcommand{\n}[1]{\mbox{#1}}
\newcommand{\sipka}{\rightarrow}

\begin{document}

%% Titulní strana a různé povinné informační strany
\include{_titulni_strana}

%%% Strana s automaticky generovaným obsahem diplomové práce
\tableofcontents

\chapter{Úvod}
Tématem mojí ročníkové práce je naprogramovat aplikaci, která vyčísluje chemické rovnice. Spolu s tím bylo nutné navrhnout příslušný algoritmus. Tento dokument obsahuje tři kapitoly. V první z nich se zabývám obecnými informacemi o chemických rovnicích a základními principy jejich vyčíslování. Druhá kapitola je zameřená na práci s maticemi při hledání řešení soustav lineárních rovnic -- na této metodě je založený algoritmus tohoto programu. Poslední kapitola slouží jako jednoduchá dokumentace vytvořené aplikace. Příloha k dokumentu obsahuje ukázku několika vzorových vstupů s příslušnými výstupy.

\chapter{Chemické rovnice}
Chemická rovnice se používá jako zápis chemických reakcí. Udává seznam látek, které se reakce účastní a poměr jejich látkových množství (jinými slovy poměr počtu molekul jednotlivých sloučenin). Látky, které do rovnice vstupují, se nazývají reaktanty, které se zapasují na levou stranu rovnice. Pravá strana rovnice vyjadřuje, které látky danou reakcí vznikají (tzv. produkty).

\section{Zápis chemické rovnice}
Všechny reaktanty i produkty se zapisují svými chemickými vzorci. Před každou sloučeninou musí být uveden stechiometrický koeficient, tj. přirozené číslo vyjadřující relativní množství této látky vůči ostatním sloučeninám (číslo 1 se zpravidla vynechává). Obě strany rovnice se oddělují nejčastěji symbolem \s. Mezi jednotlivými reaktanty na levé a produkty na pravé straně rovnice se píše znaménko $ + $.

V případě, že v zápisu chemické reakce nejsou uvedeny stechiometrické koeficienty, nazívá se tento zápis reakčním schématem. Vyjadřuje pouze, které látky se reakce účastní, nikoli však jejich množství. Z toho důvodu se zpravidla nepoužívá.

Příklady zápisu chemických rovnic:
\begin{align*}
 	2~\n{Na} + 2~\n{H}_2\n{O} &\sipka 2~\n{NaOH}+\n{H}_2\\
 	\n{CH}_4 + 2~\n{O}_2 &\sipka \n{CO}_2 + 2~\n{H}_2\n{O}\\
 	\n{P}_4\n{O}_{10} + 6~\n{H}_2\n{O} &\sipka 4~\n{H}_3\n{PO}_4
\end{align*}

Rovnice kromě toho může obsahovat i další údaje o vlastnostech chemických látek nebo průběhu reakce (např. skupenství látek, energie, další látky, které se účastní reakce, ale jejich množství se nemění -- tzv. katalyzátory). Tyto informace však nejsou podstané pro potřeby této ročníkové práce.

\section{Vyčíslování chemických rovnic}
Proces, při kterém jsou do reakčního schématu doplňovány stechiometrické koeficienty, čímž vzniká chemická rovnice, se nazývá vyčíslování. Při něm se využívá několika chemických a fyzikálních zákonů, které musí každá chemická reakce splňovat.

Jedním z nich je zákon zachování hmotnosti. Z chemického pohledu je možné ho vyjádřit v následujícím znění: při reakci se zachovává počet a druh všech atomů. Pro chemickou rovnici to znamená, že celkový počet atomů jednoho prvku ve všech sloučeninách je stejný na obou stranách rovnice. Tento zákon je hlavní pomůckou při vyčíslování.

Dále je možné použít také zákon zachování elektrického náboje, podle kterého platí, že celkový součet elektrických nábohů je stejný na obou stranách rovnice. Tím se zde ale nebudu zabývat, protože ho můj program nepoužívá.

\section{Postup při vyčíslování chemické rovnice}
Existuje několik metod, které lze při vyčíslování použít. Můj program používá postup založený výhradně na zákonu zachování hmotnosti. Chemickou rovnici je možné převést na soustavu lineárních rovnic jejichž počet odpovídá počtu prvků ve sloučeninách. Neznámé této rovnice odpovídají stechiomtrickým koeficientům jednotlivých sloučenin. Způsobem, jak tuto soustavu vyřešit, se budu zabývat v následující kapitole.

Protože se v těchto rovnicích nevyskytují absolutní členy (resp. jejich hodnota je vždy rovna 0), nebude mít tato soustava jednoznačné řešení. Jinými slovy pokud je řešením 
uspořádaná n-tice $ [a_1, a_2, \cdots, a_n] $, je řešením i $ [ka_1, ka_2, \cdots, ka_n], k \in \mathbb{N} $. To je možné dokázat pomocí substituce $ \forall i \leq n \wedge i \in \mathbb{N}: b_i = ka_i, k \in \mathbb{N} $. Po dosazení do soustavy a vynásobení všech rovnic číslem k získáme stejnou rovnici jako napočátku, ale místo kořenů $ a_i $ zaujímají kořeny $ b_i $, přičemž $ a_i \neq b_i $ Jako stechiometrické koeficienty se proto použije taková n-tice, jejíž členy jsou vzájemně nesoudělná přirozená čísla.


\subsection{Příklad}
Při vyčíslení chemické rovnice $ \n{P}_4\n{O}_{10} + \n{H}_2\n{O} \sipka \n{H}_3\n{PO}_4 $ lze postupovat následovně:

Nejprve do rovnice doplníme neznámé na místo stechiometrických koeficientů:
$$ a~\n{P}_4\n{O}_{10} + b~\n{H}_2\n{O} \sipka c~\n{H}_3\n{PO}_4 $$

Chemickou rovnici je možné rozdělit na soustavu lineárních rovnic, jejichž počet odpovídá počtu prvků ve sloučeninách. Neznámými jsou potom stechio\-met\-ric\-ké koeficienty. V tomto případě bude soustava vypadat následovně:
\begin{align*}
	4a + 0b &= c&\mbox{(pro počty P)}\\
	10a + b &= 4c&\mbox{(pro počty O)}\\
	0a + 2b &= 3c&\mbox{(pro počty H)}
\end{align*}

Řešením je každá uspořádaná trojice $ [a, 6a, 4a], a\in \mathbb{N} $. Tato trojice je nesoudělná, pokud $ a = 1 $. Tudíž $ [a,b,c] = [1,6,4] $. Chemická rovnice tak bude mít podobu:
$$ \n{P}_4\n{O}_{10} + 6~\n{H}_2\n{O} \sipka 4~\n{H}_3\n{PO}_4 $$

\subsection{Kontrola platnosti chemické rovnice}
Obecně je velice těžké posoudit, zda rovnice znázorňuje reálnou chemickou reakci. Přesto existuje jednoduchý způsob, jak některé rovnice snadno vyloučit. Jsou to ty, ve kterých není možné zajistit platnost zákona zachování hmoty. To se projeví tím, že stechiometrický koeficient alespoň jedné sloučeniny vyjde rovný 0.

Příklad:
$$a~\n{Na} + b~\n{H}_2\n{O} \sipka c~\n{NaOH}+d~\n{H}_2 + e~\n{Fe}$$
Soustava rovnic vypadá následovně:
\begin{align*}
	a &= c &\mbox{(pro prvek Na)}\\
	2b &= c + 2d &\mbox{(pro prvek H)}\\
	b &= c &\mbox{(pro prvek O)}\\
	0 &= e &\mbox{(pro prvek Fe)}
\end{align*} 
Nesoudělným řešením je $[a,b,c,d,e]=[2,2,2,1,0]$. Chemická rovnice má podobu:
$$2~\n{Na} + 2~\n{H}_2\n{O} \sipka 2~\n{NaOH}+1~\n{H}_2 + 0~\n{Fe}$$
Taková rovnice však nedává smysl. Můžeme ji proto vyloučit čistě na základě jejího vyčíslení. Toto je jediná kontrola, kterou můj program provádí.

\chapter{Řešení soustav lineárních rovnic pomocí matic}
Jako postup pro řešení soustavy popsané v předchozí kapitole jsem se rozhodl použít matici, kterou převedu pomocí elementárních úprav na specifický tvar, který je popsaný v Příloze 1 (\ref{P1}).

Mějme obecnou chemickou rovnici:
$$a_1~\n{A}_1 + a_2~\n{A}_2 + ... + a_m~\n{A}_m \sipka b_1~\n{B}_1 + b_2~\n{B}_2 + ...+ b_n~\n{B}_n,$$
kde $\n{A}_1, \n{A}_2, ..., \n{A}_m, \n{B}_1, \n{B}_2, ..., \n{B}_n$ jsou různé chemické sloučeniny. Lze ji převést na soustavu lineárních rovnic:
\begin{align*}
	c_{11}a_{1} + c_{12}a_{2} + \cdots + c_{1m}a_{m} &= d_{11}b_{1} + d_{12}b_{2} + \cdots + d_{1n}b_{n}\\
	c_{21}a_{1} + c_{22}a_{2} + \cdots + c_{2m}a_{m} &= d_{21}b_{1} + d_{22}b_{2} + \cdots + d_{2n}b_{n}\\
	c_{31}a_{1} + c_{32}a_{2} + \cdots + c_{3m}a_{m} &= d_{31}b_{1} + d_{32}b_{2} + \cdots + d_{3n}b_{n}\\
	&~...
\end{align*}
Koeficient $ c_{ij} $ vyjadřuje počet atomů $ i $-tého prvku ve sloučenině A$ _j $ a $ d_{ij} $ vyjadřuje počet atomů $ i $-tého prvku ve sloučenině B$ _j $. Po převedení pravých stran rovnic na levé je možné k soustavě vytvořit její matici, která má podobu:
$$\begin{pmatrix}
	c_{11} & c_{12} & \cdots & c_{1m} & -d_{11} & -d_{12} &\cdots& -d_{1n}\\
	c_{21} & c_{22} & \cdots & c_{2m} & -d_{21} & -d_{22} &\cdots& -d_{2n}\\
	c_{31} & c_{32} & \cdots & c_{3m} & -d_{31} & -d_{32} &\cdots& -d_{3n}\\
	\cdots
\end{pmatrix}$$


\chapter{Závěr}
Vytvořil jsem program, jehož cílem je vyčíslovat chemické rovnice. Vysvětlil jsem, co to je a jakým způsobem ji lze vyčíslit. Základem aplikace je algoritmus pro řešení soustav lineárních matic, jehož popis je hlavní součástí této ročníkové práce. Jedná se o můj vlastní návrh, který je vhodný pouze pro tento účel -- pro obecné řešní soustav rovnic se nehodí. Na závěr jsem také ukázal, jakým způsobem se program používá a jakou podobu má mít vstup. Součástí této práce je také příloha s několika ukázkovými vstupy a příslušnými výstupy.
%%% Seznam použité literatury
\begin{thebibliography}{99}

\bibitem{uch}
Aleš Mareček, Jaroslav Honza. (1998): \textit{Chemie pro čtyřletá gymnázia.} Třetí opravené vydání. Olomouc: Nakladatelství Olomouc.\\
ISBN: 80-7182-055-5.

\bibitem{wiki}
Wikipedie. Chemická rovnice.\\
\url{https://cs.wikipedia.org/wiki/Chemick\%C3\%A1_rovnice}\\
(30. ledna 2022)

\bibitem{czu}
Soustavy lineárních rovnic\\
\url{http://dimatia.fav.zcu.cz/2005/vyuka/zm1/soustavy.pdf}\\
(30. ledna 2022)
\end{thebibliography}

%%% Prostor pro přílohy práce
\chapwithtoc{Přílohy}
\section*{Příloha 1 - cílový tvar matice}
\label{P1}
ddddddddddddd
\pagebreak

\section*{Příloha 2}
\label{P2}
dddddddddddd
\pagebreak

\section*{Příloha 3}
\label{P3}
ddddddddddddddddd
\pagebreak

\section*{Příloha 4}
\label{P4}
dddddddddddd
\pagebreak


\openright
\end{document}
